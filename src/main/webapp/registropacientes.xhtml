<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head></h:head>
    <h:body>
        
        <h:form id="registro_pacientes">
            <p:dataTable var="paciente" value="#{HistorialPacientes.pacientes}">
                <p:column headerText="id">
                    <h:outputText value="#{paciente.id}"/>
                </p:column>
                
                <p:column headerText="Tipo de Id">
                    <h:outputText value="#{paciente.tipoId}"/>
                </p:column>
                
                <p:column headerText="Nombre Paciente">
                    <h:outputText value="#{paciente.nombre}"/>
                </p:column>
                
                <p:column headerText="Fecha de Nacimiento">
                    <h:outputText value="#{paciente.fechaNacimiento}"/>
                </p:column>
                
                <p:column headerText="Nombre EPS">
                    <h:outputText value="#{paciente.eps.nombre}"/>
                </p:column>
                
                <p:column >
                    <h:commandButton value="Ver Consultas" action="#{HistorialPacientes.verConsultas}">
                        <f:setPropertyActionListener value="#{paciente}" target="#{HistorialPacientes.pacienteSeleccionado}"/>
                    </h:commandButton>
                </p:column>
                
                <f:facet name="footer">
                    <p:commandButton update="" value="Registrar Paciente" type="button" onclick="PF('dlgRegistroPaciente').show()"/>
                </f:facet>
                
                
            </p:dataTable>
        
        <p:dialog header="Registrar Paciente" widgetVar="dlgRegistroPaciente" minHeight="100">
            <p:panel id="info_pacientes">
                <h:panelGrid columns="2">
                        <p:outputLabel value="id"/>
                        <p:inputText value="#{HistorialPacientes.idPaciente}"/>
                        
                        <p:outputLabel value="Tipo de id"/>
                        <p:inputText value="#{HistorialPacientes.tipoId}"/>
                        
                        <p:outputLabel value="Nombres"/>
                        <p:inputText value="#{HistorialPacientes.nombre}"/>
                        
                        <p:outputLabel value="Fecha de nacimiento"/>
                        <p:calendar pattern="yyyy-MM-dd" value="#{HistorialPacientes.fechaNacimiento}"/>
                        
                        <p:outputLabel value="EPS"/>
                        <!--<p:selectOneMenu id="Menu_eps" value="#{HistorialPacientes.EPSSeleccionada}" converter="epsConverter" >
                            <f:selectItems value="#{HistorialPacientes.listaEPS}" var="Eps" itemLabel="#{Eps.nombre}" itemValue="#{Eps}"/>
                        </p:selectOneMenu>
                        <h:messages showDetail="true" showSummary="true"/> -->
                </h:panelGrid>        
                
        </p:panel>
            <p:commandButton update="registro_pacientes" value="Registrar" onclick="PF('dlgRegistroPaciente').hide()" actionListener="#{HistorialPacientes.registrarPaciente()}"/>
        </p:dialog>
        </h:form>
    </h:body>
</html>
